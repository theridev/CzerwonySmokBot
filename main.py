'''                                                                       
                                                                           
                    ‚ñì‚ñì‚ñì‚ñà‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì             ‚ñì‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì                    
                     ‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñà‚ñì‚ñì           ‚ñì‚ñì‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñà                     
                        ‚ñà‚ñì‚ñà‚ñà‚ñì‚ñà‚ñì‚ñì‚ñà         ‚ñà‚ñì‚ñì‚ñà‚ñì‚ñà‚ñà‚ñì‚ñà                        
                          ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñà  ‚ñà ‚ñà  ‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì                          
                          ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì                          
                         ‚ñà‚ñà‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñà‚ñà                         
                        ‚ñà‚ñì‚ñà‚ñí‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñí‚ñà‚ñì‚ñà                        
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñí‚ñí‚ñí‚ñà‚ñì‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñà‚ñà‚ñí‚ñí‚ñí‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà                    
                   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñí‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñí‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                  
   ‚ñà‚ñà              ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà             ‚ñà‚ñà   
 ‚ñà‚ñà‚ñà‚ñà‚ñì‚ñà        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñì‚ñì‚ñì‚ñà‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñë‚ñë‚ñà‚ñì‚ñì‚ñì‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà       ‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà 
  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñà‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñà‚ñë‚ñë‚ñë‚ñë‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà  
   ‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñë‚ñë‚ñí‚ñà‚ñë‚ñà‚ñì‚ñë‚ñë‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñë‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñà   
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñà‚ñë‚ñì‚ñì‚ñà‚ñì‚ñì‚ñà‚ñà‚ñì‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñì‚ñà‚ñà‚ñì‚ñì‚ñà‚ñì‚ñì‚ñë‚ñà‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    
     ‚ñà    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì‚ñì‚ñì‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñë‚ñì‚ñë‚ñë‚ñë‚ñì‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñì‚ñì‚ñì‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñà     
             ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñë‚ñë‚ñí‚ñí‚ñì‚ñë‚ñë‚ñí‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà             
                 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñí‚ñí‚ñí‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                 
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà‚ñí‚ñë‚ñë‚ñë‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà                    
                  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñí‚ñí‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñí‚ñí‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                  
                     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                     
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                    
                    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñí‚ñë‚ñë‚ñë‚ñí‚ñë‚ñí‚ñë‚ñë‚ñë‚ñí‚ñë‚ñë‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà                    
                     ‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà                     
                          ‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà  ‚ñà‚ñà  ‚ñà‚ñà                          
<< Czerwony Smok >>
main.py

Hejka, to ja Theri!
Opowiem wam historiƒô.

Pewnego dnia wpad≈Çem na pomys≈Ç zrobienia bota dla serwera Red Eye Dragon.
Takiego fajnego ≈ºeby mo≈ºna by≈Ço siƒô nim bawiƒá, czaisz?

Zrealizowa≈Çem to 21 listopada 2024 roku, u≈ºywajƒÖc moich umiejƒôtno≈õci nabytych rok wcze≈õniej
podczas robienia bot√≥w "SliztBot" i "Cringeball"

Szczeg√≥lne podziƒôkowania sƒÖ dla nastƒôpujƒÖcych os√≥b:
Seth - pomys≈Ç na komende dyskryminacja i pomoc w testowaniu bota :3
Avalon - Inspiracja przy komendzie dyskryminacja
Meteor i Fotien - bez serwera bot by nie powsta≈Ç
Oliwier - nie wyda≈Ç tajemnicy podczas powstawania bota

Kod bota jest w ca≈Ço≈õci dostƒôpny online! Komentarze w kodzie pozwolƒÖ przeglƒÖdajƒÖcemu go zrozumieƒá.
https://github.com/theridev/CzerwonySmokBot
'''

# Zaimportuj modu≈Çy: API Discorda i random u≈ºywany do wybierania losowych rzeczy. Tak≈ºe requests dla pobrania wybranego zdjƒôcia.
import discord, random, requests
from discord.ext import commands
from discord.ui import Modal
from io import BytesIO
import stats.stats

# Pillow dla st√≥pek :3
from PIL import Image

# Uprawnienia dla bota
intents = discord.Intents.default()
intents.message_content = True
intents.members = True

# Ustaw aktywno≈õƒá oraz zdefiniuj bota
activity = discord.Activity(type=discord.ActivityType.watching, name="Serwer Red Eye Dragon")
bot = commands.Bot(command_prefix="%", activity=activity, status=discord.Status.online, intents=intents, help_command=None)

# Guziki dla wiadomo≈õci w komendzie dyskryminacja.
class Buttons(discord.ui.View):
    def __init__(self, *, timeout=180): # Guziki przestanƒÖ dzia≈Çaƒá po 3 minutach od wys≈Çania wiadomo≈õci
        super().__init__(timeout=timeout)

    # Guziki i wiadomo≈õci wysy≈Çane po ich naci≈õniƒôciu
    @discord.ui.button(label="Dyskryminacja z powodu braku Fursuita.", style=discord.ButtonStyle.blurple, emoji="üö´")
    async def blurple_button(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message(
            "Jak mo≈ºesz nie mieƒá fursuita! Je≈ºeli jeszcze nie wiedzia≈Çe≈õ - sprawia to ≈ºe jeste≈õ gorszy! "
            "Powiniene≈õ no nie wiem, ≈ºyƒá z poczuciem ≈ºe jeste≈õ gorszy od os√≥b kt√≥re majƒÖ fursuita."
        )

    @discord.ui.button(label="Dyskryminacja z powodu posiadania Fursuita.", style=discord.ButtonStyle.green, emoji="ü¶ä")
    async def gray_button(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message(
            "Aha, masz fursuita? Jakiego? Pewnie ubierasz siƒô w plastikowƒÖ torebkƒô z biedronki i m√≥wisz ≈ºe masz fursuit. "
            "Dobra - a dbasz o ten fursuit? No w≈Ça≈õnie. Pewnie ca≈Çy jest wygnieciony a sama postaƒá kt√≥ra pewnie mia≈Ça "
            "przedstawiaƒá twojƒÖ, tfu, fursonƒô - Jest ≈Çysa bo nie umiesz nawet dbaƒá o tw√≥j cholerny fursuit!!"
        )

    @discord.ui.button(label="Dyskryminacja z powodu bycia na serwerze.", style=discord.ButtonStyle.gray, emoji="üêâ")
    async def green_button(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message("Co? Jeste≈õ na serwerze Red Eye Dragon? I co? Mam ciƒô dyskryminowaƒá? No, zapomnij. Je≈ºeli nie bƒôdziesz sprawia≈Ç ≈ºadnych dram, lub nie jeste≈õ antifurem pod przykrywkƒÖ, ≈ºyczƒô ci mi≈Çej zabawy na serwie :3")

    @discord.ui.button(label="Dyskryminacja z powodu bycia dyskryminowanym.", style=discord.ButtonStyle.red, emoji="üõ°Ô∏è")
    async def red_button(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message("Jeste≈õ dyskryminowany? I co? Tw√≥j problem. Mo≈ºe dobrze, ≈ºe siƒô czujesz gorszy. A mo≈ºe rozumiesz, ≈ºe wszystko co ten bot pisze jest ≈ºartem. Nie obwiniajcie Theriego, to Seth chcia≈Ç mieƒá takƒÖ funkcjƒô w bocie.")

# Dla testowania: Kiedy bot siƒô zaloguje, wy≈õwietl wiadomo≈õƒá w konsoli
@bot.event
async def on_ready():
    print(f'Bot zalogowany: {bot.user}!')

# W przypadku wiadomo≈õci sprawd≈∫ czy wywo≈Çuje ona bota. Nie pozw√≥l botu ≈ºeby m√≥g≈Ç sam wywo≈Çywaƒá u siebie komendy.
@bot.event
async def on_message(message):
    if message.author == bot.user:
        return
    # Gdy bot zostanie spingowany, wy≈õwietl wiadomo≈õƒá pomocy. Funkcja chwilowo niedzia≈ÇajƒÖca.
    # if bot.user.mentioned_in(message):
    #     await help(bot)
    await bot.process_commands(message)

# POMOCYYYY
@bot.command()
async def help(ctx):
    embed=discord.Embed(color=0x99c1f1)
    embed.add_field(name="<< Ju≈º na pomoc! >>", value=" ", inline=False)
    embed.add_field(name=" ", value=" ", inline=False)
    embed.add_field(name=r"%mem", value="Wy≈õlij serwerowy mem!", inline=True)
    embed.add_field(name=r"%cytat", value="Wy≈õlij serwerowy cytat!", inline=True)
    embed.add_field(name=r"%help", value="Wy≈õlij tƒÖ wiadomo≈õƒá.", inline=True)
    embed.add_field(name=r"%dyskryminacja", value="Do≈õwiadcz dyskryminacji!", inline=True)
    embed.add_field(name=r"%zgaduj", value="Zgadnij co to za cz≈Çonek serwera!", inline=True)
    embed.add_field(name=r"%stopy", value="Dodaj st√≥pki do swojego profilowego! (Sponsorowane przez kult st√≥pek)", inline=True)
    embed.add_field(name=r"%lysejadro", value="Dodaj ≈Çysego do swojego profilowego! (Sponsorowane przez kult ≈Åysego JƒÖdra)", inline=True)
    embed.add_field(name=r"%rank", value="Sprawd≈∫ ile razy zgad≈Çe≈õ.", inline=True)
    embed.add_field(name=r"%top", value="Sprawd≈∫ kto zgad≈Ç najwiƒôcej razy!", inline=True)
    embed.add_field(name=r"%lysy", value="Wy≈õlij ≈Çysego! (Sponsorowane przez kult ≈Åysego JƒÖdra)", inline=True)
    embed.add_field(name="Wkr√≥tce wiƒôcej!", value=" ", inline=True)
    await ctx.send(embed=embed)

# Mem: losowe zdjƒôcie z kana≈Çu memy-serwerowe
@bot.command()
async def mem(ctx):
    await losowezdj(ctx, 1308069405351088221, "Mem")

# Cytat: losowe zdjƒôcie z kana≈Çu cytaty-serwerowe
@bot.command()
async def cytat(ctx):
    await losowezdj(ctx, 1295872408636358726, "Cytat")

# Lysy: Losowe zdjƒôcie jondra
@bot.command()
async def lysy(ctx):
    await losowezdj(ctx, 1302417266960236606, "≈Åysy")

# Zosta≈Ñ zdyskryminowany. Zdjƒôcie losowe. Na pomys≈Ç komendy wpad≈Ç Seth. Nie obwiniajcie mnie!
@bot.command()
async def dyskryminacja(ctx):
    embed=discord.Embed(title=" ", description="Wybierz rodzaj dyskryminacji!", color=0xff7800)
    embed.set_image(url="https://radio.bobola.church/wp-content/uploads/2023/07/maxresdefault1.jpg")
    await ctx.channel.send(embed=embed,view=Buttons())

# Wybierz losowe zdjƒôcie z danego kana≈Çu
async def losowezdj(ctx, channel, co):
    channel = bot.get_channel(channel)  # Wybierz kana≈Ç podany w argumencie 'channel'

    if not channel: # Je≈ºeli kana≈Ç nie istnieje (ma≈Ço prawdopodobne) wy≈õwietl b≈ÇƒÖd i zako≈Ñcz wykonywanie funkcji
        embed=discord.Embed(color=0xe01b24)
        embed.add_field(name="B≈ÇƒÖd!", value="Wybrany kana≈Ç nie istnieje!", inline=True)
        embed.set_footer(text="Oznacz u≈ºytkownika @theridev, ≈ºeby spojrza≈Ç na ten b≈ÇƒÖd.") # Zajmƒô siƒô tym za rok lub dwa.
        await ctx.send(embed=embed)
        return
        return

    # Pobierz wiadomo≈õci z kana≈Çu.
    try:
        messages = []
        async for msg in channel.history(limit=None):  # Brak limitu na wiadomo≈õci mo≈ºe byƒá ogromnym problemem. YOLO.
            messages.append(msg)
    except discord.Forbidden: # B≈ÇƒÖd 403 - Forbidden / Zabroniony. Forbidden to najgorszy album Black Sabbath, tyle wiem.
        embed=discord.Embed(color=0xe01b24)
        embed.add_field(name="B≈ÇƒÖd!", value="Bot nie ma uprawnie≈Ñ ≈ºeby odczytywaƒá wiadomo≈õci na tym kanale!", inline=True)
        embed.set_footer(text="Oznacz u≈ºytkownika @theridev, ≈ºeby spojrza≈Ç na ten b≈ÇƒÖd.") # Zajmƒô siƒô tym za rok lub dwa.
        await ctx.send(embed=embed)
        return

    # Przefiltruj wiadomo≈õci ≈ºeby znale≈∫ƒá zdjƒôcia.
    image_messages = [
        msg for msg in messages if msg.attachments and msg.attachments[0].content_type.startswith("image")
    ]
    
    # Nie wykryto zdjƒôƒá!
    if not image_messages:
        embed=discord.Embed(color=0xe01b24)
        embed.add_field(name="B≈ÇƒÖd!", value="Nie mo≈ºna by≈Ço wykryƒá zdjƒôƒá na danym kanale.", inline=True)
        embed.set_footer(text="Oznacz u≈ºytkownika @theridev, ≈ºeby spojrza≈Ç na ten b≈ÇƒÖd.")
        await ctx.send(embed=embed)
        return

    # Wybierz losowe zdjƒôcie i wy≈õlij je wraz z ≈ÇadniutkƒÖ wiadomo≈õciƒÖ :3
    random_message = random.choice(image_messages)
    random_image = random_message.attachments[0]
    # Utw√≥rz embed z osadzonym obrazkiem
    embed = discord.Embed(color=0x8ff0a4)
    embed.add_field(name="%s serwerowy!" % co, value=f"Wys≈Çany przez {random_message.author.display_name}.", inline=True)
    embed.set_image(url=random_image.url)  # Osad≈∫ obrazek w embed
    await ctx.send(embed=embed)

# Guziki dla komendy zgaduj.
class zgadujGuziki(discord.ui.View):
    def __init__(self, guess_user, guess_user_display, *, timeout=180): # Po trzech minutach od wys≈Çania wiadomo≈õci guziki stanƒÖ siƒô nieaktywne.
        super().__init__(timeout=timeout)
        self.guess_user = guess_user
        self.guess_user_display = guess_user_display

    @discord.ui.button(label="Zgaduj", style=discord.ButtonStyle.red)
    async def confirm(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_modal(Questionnaire(self.guess_user, self.guess_user_display))

# Kwestionarz! Pozwala on na zgadywanie u≈ºytkownika.
class Questionnaire(Modal, title='Zgadywanka'):
    name = discord.ui.TextInput(label='Co to za u≈ºytkownik?')

    def __init__(self, guess_user, guess_user_display, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.guess_user = guess_user
        self.guess_user_display = guess_user_display

    async def on_submit(self, interaction: discord.Interaction):
        guessOG = self.name
        guessLowercase = str(guessOG).lower()

        # zadzia≈Ça np i THERI i theri i Theri i THeRi...
        guessUserDisplayLowercase = str(self.guess_user_display).lower()

        # Sprawd≈∫ czy u≈ºytkownik trafi≈Ç albo na poprawnƒÖ nazwƒô wy≈õwietleniowƒÖ albo na poprawnƒÖ nazwƒô u≈ºytkownika.
        # Np: i "theri" i "theridev" zadzia≈Ça.
        if guessLowercase == self.guess_user.lower() or guessLowercase == guessUserDisplayLowercase or guessLowercase == "kastracja" and self.guess_user.lower() == "postal_dude_jr."or guessLowercase == "dyskryminacja" and self.guess_user.lower() == "dmnk_dsc":
            embed = discord.Embed(color=0x8ff0a4)
            embed.add_field(name="Zgad≈Çe≈õ! U≈ºytkownik to %s" % self.guess_user, value=" ", inline=True)
            stats.stats.add(interaction.user.name, 1)
            await interaction.response.send_message(embed=embed)
        else:
            # ups
            embed = discord.Embed(color=0xe01b24)
            embed.add_field(name=f"≈πle! Ten u≈ºytkownik to nie {guessLowercase}", value=" ", inline=True)
            await interaction.response.send_message(embed=embed)

# Zgaduj!
@bot.command()
async def zgaduj(ctx):
    global guessUser
    global guessUserDisplay
    users = ctx.guild.members  # Lista wszystkich uczestnik√≥w serwera
    user = random.choice(users) # Wybierz losowego u≈ºytkownika. Boty - niestety - te≈º sie liczƒÖ. Do naprawienia...?
    guessUser = user.name # Nazwa u≈ºytkownika
    guessUserDisplay = user.display_name # Nazwa wy≈õwietlana
    pfp = user.avatar.url  # URL awataru, do zgadywanki.

    # Wiadomo≈õƒá!
    embed = discord.Embed(title=" ", description="Kto to?", color=0x8ff0a4)
    embed.set_author(name="Co to za u≈ºytkownik?")
    embed.set_image(url=pfp)
    await ctx.send(embed=embed, view=zgadujGuziki(guess_user=guessUser, guess_user_display=guessUserDisplay))  # Send message to the channel

@bot.command()
async def stopy(ctx):
    invoker = ctx.author
    invokerPFPUrl = invoker.avatar.url

    # Pobierz awatar u≈ºytkownika za pomocƒÖ requests
    response = requests.get(invokerPFPUrl, headers={"User-Agent": "Mozilla/5.0"})
    if response.status_code == 200:
        invokerPFP = Image.open(BytesIO(response.content)).convert("RGBA")  # musi byƒá RGBA!!!
        stopy = Image.open("stopki.png").convert("RGBA")  # musi byƒá RGBA!!!

        # ≈ªeby poprawnie funkcja dzia≈Ça≈Ça oba zdjƒôcia powinny byƒá w tym samym rozmiarze.
        invokerResized = invokerPFP.resize((500, 500))
        stopyResized = stopy.resize((500, 500))

        # Puste zdjƒôcie
        final_image = Image.new("RGBA", (500, 500))
        final_image.paste(invokerResized, (0, 0))  # Pierwsze zdjƒôcie
        final_image.paste(stopyResized, (0, 0), stopyResized)  # Nak≈Çadka!

        # Przekonwertuj do RGB dla wiƒôkszej kompatybilno≈õci, nigdy nie wiadomo
        final_image_rgb = final_image.convert("RGB")

        # Save and send the json_object[user] + value image
        with BytesIO() as image_binary:
            final_image_rgb.save(image_binary, "PNG")
            image_binary.seek(0)
            final = discord.File(fp=image_binary, filename="image.png")
            embed = discord.Embed(color=0x8ff0a4)
            embed.add_field(name="St√≥pki!", value=" ", inline=True)
            embed.set_image(url="attachment://image.png")
            await ctx.send(file=final, embed=embed)
    else:
        embed = discord.Embed(color=0xe01b24)
        embed.add_field(name="B≈ÇƒÖd!", value="Nie uda≈Ço siƒô pobraƒá awataru u≈ºytkownika!", inline=True)
        embed.set_footer(text="Oznacz u≈ºytkownika @theridev, ≈ºeby spojrza≈Ç na ten b≈ÇƒÖd.")
        await ctx.send(embed=embed)

@bot.command()
async def lysejadro(ctx):
    invoker = ctx.author
    invokerPFPUrl = invoker.avatar.url

    # Pobierz awatar u≈ºytkownika za pomocƒÖ requests
    response = requests.get(invokerPFPUrl, headers={"User-Agent": "Mozilla/5.0"})
    if response.status_code == 200:
        invokerPFP = Image.open(BytesIO(response.content)).convert("RGBA")  # musi byƒá RGBA!!!
        lysy = Image.open("lysy.png").convert("RGBA")  # musi byƒá RGBA!!!

        # ≈ªeby poprawnie funkcja dzia≈Ça≈Ça oba zdjƒôcia powinny byƒá w tym samym rozmiarze.
        invokerResized = invokerPFP.resize((500, 500))
        lysyResized = lysy.resize((500, 500))

        # Puste zdjƒôcie
        final_image = Image.new("RGBA", (500, 500))
        final_image.paste(invokerResized, (0, 0))  # Pierwsze zdjƒôcie
        final_image.paste(lysyResized, (0, 0), lysyResized)  # Nak≈Çadka!

        # Przekonwertuj do RGB dla wiƒôkszej kompatybilno≈õci, nigdy nie wiadomo
        final_image_rgb = final_image.convert("RGB")

        # Save and send the image
        with BytesIO() as image_binary:
            final_image_rgb.save(image_binary, "PNG")
            image_binary.seek(0)
            final = discord.File(fp=image_binary, filename="lysy.png")
            embed = discord.Embed(color=0x8ff0a4)
            embed.add_field(name="≈ÅYSYYYYY!", value=" ", inline=True)
            embed.set_image(url="attachment://lysy.png")
            await ctx.send(file=final, embed=embed)
    else:
        embed = discord.Embed(color=0xe01b24)
        embed.add_field(name="B≈ÇƒÖd!", value="Nie uda≈Ço siƒô pobraƒá awataru u≈ºytkownika!", inline=True)
        embed.set_footer(text="Oznacz u≈ºytkownika @theridev, ≈ºeby spojrza≈Ç na ten b≈ÇƒÖd.")
        await ctx.send(embed=embed)

@bot.command()
async def rank(ctx):
    invoker = ctx.author
    invokerName = ctx.author.name

    randomColor = random.randrange(0, 2**24)
    randomHex = hex(randomColor)
    randomHexINT = int(randomHex,16)

    value = stats.stats.getUserValue(invokerName)

    if value == 1:
        raz = "raz"
    else:
        raz = "razy"

    embed = discord.Embed(color=randomHexINT)
    embed.add_field(name="U≈ºytkownik %s zgad≈Ç %s %s!" % (invokerName, str(value), raz), value=" ", inline=True)
    embed.set_image(url=ctx.author.avatar.url)  # Awatar Jupii
    await ctx.send(embed=embed)

@bot.command()
async def top(ctx):
    topValues = stats.stats.getAllValues()
    top = {k: v for k, v in sorted(topValues.items(), key=lambda item: item[1], reverse=True)}

    randomColor = random.randrange(0, 2**24)
    randomHex = hex(randomColor)
    randomHexINT = int(randomHex,16)

    embed = discord.Embed(color=randomHexINT)
    for x, (user, value) in enumerate(top.items(), start=1):
        if value == 1:
            raz = "raz"
        else:
            raz = "razy"
        embed.add_field(name=f"{x}. {user}", value=f"ZgadnƒÖ≈Ç {value} {raz}.")
    
    await ctx.send(embed=embed)


# Token poni≈ºej. Ze wzglƒôd√≥w bezpiecze≈Ñstwa jest on przechowywany w oddzielnym pliku, nie zapisywanym przez Git.
with open(".token", "r") as token_file:
    bot.run(token_file.read().strip())